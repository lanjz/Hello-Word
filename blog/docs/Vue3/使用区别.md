# Vue3相比Vue2使用差异

## 挂载应用及注册全局API

```js
// 2.0
import Vue from 'vue'
// 全局混入
Vue.minxin()
// 注册全局指令
Vue.directive('focus', {})
// 注册全局组件
Vue.component('my-component-name', { /* ... */ })
// 注册插件
Vue.use()
//绑定的全局方法和变量
Vue.prototype.xxx = xxx
// 挂载
new Vue({
    router,
    render:(h)=> h(App)
}).$mount(root)

```

```js
// 3.0
import Vue from 'vue'
const app = Vue.createApp({})
// 混
app.mixin()
// 注册全局组件
app.component('SearchInput', SearchInputComponent)
// 注册全局指令
app.directive('focus', FocusDirective)
// 注册插件
app.use(LocalePlugin)

```

3.0 将通过 `Vue.createApp({})` 创建一个应用实例，在这个实例上面注册一些全局API

由于Vue3中全局API都会通过 `app.xxx` 的方法调用，所以之前通过 `Vue.prototype.xxx` 绑定的全局方法和变量将无法使用，可以采用如下方式来代替：

```js
app.config.globalProperties.http = function(){}
```

## 组件生命周期

3.0 不再有 `beforeDestroy` 和 `destroyed` 两个钩子