<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    .a {
      height: 300px;
      background: red;
    }

    .b {
      height: 300px;
      background: gray;
      margin-top: 10px;
    }

    .c {
      height: 300px;
      background: blue;
      margin-top: 10px;
    }
  </style>
  <script src="https://cdn.bootcdn.net/ajax/libs/vue/3.2.0-beta.7/vue.cjs.js"></script>
</head>
<body>
<button id="btn">加一个</button>
<div class="a"></div>
</body>
<script>
  function getData() {
    return new Promise(resolve => {
      setTimeout(() => {
        resolve(600000000)
      }, 2000)
    })
  }

  function addEl(res) {
    let start = new Date().getTime()
    let i = 0
    while (i < res) {
      i++
    }
    console.log('阻塞结束', (new Date().getTime() - start))
    let newEl = document.createElement('div')
    newEl.className = 'b'
    document.body.appendChild(newEl)
    addEl2(res + res)
  }

  function addEl2(res) {
    let start = new Date().getTime()
    let i = 0
    while (i < res) {
      i++
    }
    console.log('阻塞结束', (new Date().getTime() - start))
    let newEl = document.createElement('div')
    newEl.className = 'c'
    document.body.appendChild(newEl)
  }

  /*  window.onload = function () {
      setTimeout(() => {
        function walk() {
          getData()
            .then(res => {
              addEl(res)
            })

        }

        walk()
      })
    }*/
  document.getElementById('btn').addEventListener('click', function () {
    addEl2(600000000)
  })
</script>
</html>