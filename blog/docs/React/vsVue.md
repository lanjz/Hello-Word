# vsVue

## 更新机制的区别

**获取数据更新的手段和更新的粒度不一样**

- Vue 通过依赖收集，当数据更新时， Vue 明确地知道是哪些数据更新了，每个组件都有自己的渲染 `watcher` ，掌管当前组件的视图更新，所以可以精确地更新对应的组件，所以更新的粒度是组件级别的

- React 会递归地把所有的子组件 `re-render` 一下，不管是不是更新的数据，此时，都是新的。然后通过 `diff` 算法 来决定更新哪部分的视图。所以，React 的更新粒度是一个整体

**对更新数据是否需要渲染页面的处理不一样**

- 只有依赖收集的数据发生更新，Vue 才会去重新渲染页面

- 只要数据有更新（ `setState`，`useState` 等手段触发更新），都会去重新渲染页面（可以使用 `shouldComponentUpdate/ PureComponent` 改善）

## 监听数据变化的实现原理不同

Vue 通过数据劫持的方式，能精确知道数据变化

React默认是通过比较引用的方式（diff）进行的，如果不优化可能导致大量不必要的VDOM的重新渲染

- View 层的表示：Vue 使用`模板+JavaScript+CSS`的组合,React 则使用的函数式编程

- 数据变化的响应：Vue提供反应式的数据，当数据改动时，界面就会自动更新；React里面需要调用方法`SetState`方法

- Vue组件分为全局注册和局部注册，在react中都是通过import相应组件，然后模版中引用

- 每个Vue实例都实现了事件接口，方便父子组件通信，小型项目中不需要引入状态管理机制，而react必需自己实现

- Vue 内置了很多方便的功能的,如果一些指令`v-model`，`v-if`,`v-for`,`watch`,`computed`等等，而React只能使用JSX语法

- vue中只有依赖的数据发生了变化，才会重新渲染视图，react不管这个数据有没在界面中用到，都会重新渲染视图

- 列表特环 vue 使用指令`v-for`，react 使用`map`