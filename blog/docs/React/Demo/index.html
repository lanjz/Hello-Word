<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./react.js"></script>
    <script src="./react-dom.js"></script>
    <script src="like_button.js"></script>
</head>
<body>
<div id="root"></div>
</body>
<script src="https://cdn.bootcss.com/babel-standalone/6.24.0/babel.js"></script>
<script type="text/babel">
    window.onload = function () {
        function App() {
            let [name, setName] = React.useState('lan1')

            function update() {
                // setName(name + 1)
                setName('lan')
            }

            React.useEffect(() => { // useEffect-1
                console.log('A', document.getElementById('spa'))
            }, [name])
            React.useEffect(() => { // useEffect-2
                console.log('B')
            }, [])
            React.useLayoutEffect(() => { // useEffect-1
                console.log('useLayoutEffect', document.getElementById('spa'))
            }, [name])
            return (<div onClick={update}>{name} {name === 'lan' && <span id="spa">显示</span>}</div>)
        }

        ReactDOM.render(<App/>, document.getElementById('root'));
    }


</script>
<!--<script type="text/babel">
    window.onload = function () {
        class App extends React.Component {
            constructor(props) {
                super(props);
                // 不要在这里调用 this.setState()
                this.state = {list: [1, 2, 3]};
                this.update = this.update.bind(this)
            }

            update() {
                this.setState({
                    list: [1, 2]
                })
            }

            render() {
                return (
                    <div className="game">
                        {this.state.list.map(it => <span>{it} <a>abc</a> </span>)}
                        <div className="game-board" onClick={this.update}>
                            game-board
                        </div>
                        <div className="game-info">
                            game-info
                        </div>
                    </div>
                );
            }
        }

        ReactDOM.render(<App/>, document.getElementById('root'));
    }


</script>-->

</html>