[「中高级前端面试」JavaScript手写代码无敌秘籍](https://juejin.im/post/5c9c3989e51d454e3a3902b6#heading-19)

[中高级前端大厂面试秘籍，为你保驾护航金三银四，直通大厂(上)](https://juejin.im/post/5c64d15d6fb9a049d37f9c20#heading-15)

[字跳面试题](https://www.jianshu.com/p/07b24b4baa35)

[字跳面试题](https://juejin.im/post/5c6e9203518825627d372b06)


# EventLoop

```
async function a1 () {
    console.log('a1 start')
    await a2()
    console.log('a1 end')
}
async function a2 () {
    console.log('a2')
}

console.log('script start')

setTimeout(() => {
    console.log('setTimeout')
}, 0)

Promise.resolve().then(() => {
    console.log('promise1')
})

a1()

let promise2 = new Promise((resolve) => {
    resolve('promise2.then')
    console.log('promise2')
})

promise2.then((res) => {
    console.log(res)
    Promise.resolve().then(() => {
        console.log('promise3')
    })
})
console.log('script end')
```

正确答案

```
script start
a1 start
a2
promise2
script end

// 此处开始执行异步队列
a1 end
promise1
promise2.then
promise3
setTimeout
```
解题思路：执行栈和事件队列
