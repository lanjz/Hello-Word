# Vue 3.0的变化

vue最主要的特点就是响应式机制、模板、以及对象式的组件声明语法，而3.0对这三部分都做了更改。

## 响应式机制

`2.x`的响应式是基于`Object.defineProperty`实现的代理,但是这个存在两个问题：

- 监听不到对象属性的增删、数组元素和长度的变化

- 在vue初始化的时候把所有的Observer都建立好，才能观察到数据对象属性的变化

`3.0`使用`Proxy`来代替`Object.defineProperty`,使用`proxy`有以下优点：

- 可以做到监听对象属性的增删和数组元素和长度的修改，还可以监听`Map`、`Set`、`WeakSet`、`WeakMap`

- 不会在初始化的时候创建所有的Observer，而是会在用到的时候才去监听

因此使用`proxy`不但解决了vue2.x中的问题，还是得性能有了进一步提升

还暴露了`observable的api`来创建响应式对象，可以替代掉`event bus`，来做一些跨组件的通信

## 对象式的组件声明方式

vue2.x中的组件是通过声明的方式传入一系列`option`，和`TypeScript`的结合需要通过一些装饰器的方式来做，虽然能实现功能，但是比较麻烦

3.0修改了组件的声明方式，改成了类式的写法，这样使得和TypeScript的结合变得很容易