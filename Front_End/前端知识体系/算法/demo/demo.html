<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    const data = [11,3,124,105,36,54,55,66,7,15,34]
    // 快速排序

    let count = 0
    function quick(data = []) {
      if(data.length < 2) return data
      const mark = data.shift()
      const left = []
      const right = []
      data.forEach(item => {
        ++count
        if(item < mark) {
          left.push(item)
        } else {
          right.push(item)
        }
      })
      return [...quick(left, count), mark, ...quick(right, count)]
    }
    console.log('快速排序:', quick([...data], count), count)
    // 选择排序
    count = 0
    let a = 0
    function choose(data = []) {
      for(let i = 0; i < data.length; i++) {
        a = i
        for(let j=i; j < data.length; j++) {
          ++count
          if(data[a] > data[j]){
            a = j
          }
        }
        const tem = data[i]
        data[i] = data[a]
        data[a] = tem
      }
      return data
    }
    console.log('选择排序:', choose([...data]), count)
    // 插入排序
    count = 0
    function inset(data) {
      const result = data.splice(0, 1)
      let cur = data.shift()
      while (cur) {
        let none = true
        for(let i=0; i<result.length; i++) {
          ++ count
          if(result[i] >= cur) {
            none = false
         
       if(i === 0) {          result.unshift(cur)
            } else {
              result.splice(i, 0, cur)
            }
            break
          }
        }
        if(none) {
          result.push(cur)
        }
        cur = data.shift()
      }
     return result
    }
    console.log('插入排序:', inset([...data]), count)
    // 冒泡排序
    function maopao(data) {
      const len = data.length - 1
      for(let i = len; i>=0; i--) {
        for(let j = 0; j<i;j++) {
          if(data[j] > data[j+1]) {
            const tem = data[j]
            data[j] = data[j+1]
            data[j+1] = tem
          }
        }
      }
      return data
    }
    console.log('插入排序:', maopao([...data]), count)
    // 扁平至对象
    let objData = {
      h3: {
        parent: 'h2',
        name: '经理(市场)'
      },
      h1: {
        parent: 'h0',
        name: '公司机构'
      },
      h7: {
        parent: 'h6',
        name: '经理(总务)'
      },
      h4: {
        parent: 'h3',
        name: '销售'
      },
      h0: {
        parent: '',
        name: 'root'
      },
      h2: {
        parent: 'h1',
        name: '总经理'
      },
      h8: {
        parent: 'h0',
        name: '财务'
      },
      h6: {
        parent: 'h4',
        name: '仓管'
      },
      h5: {
        parent: 'h4',
        name: '代表'
      }
    }

    function toObj(data) {
      const result = {}
      Object.keys(data).forEach(item => {
        const parent = data[item].parent
        if(data[parent]) {
          data[parent][item] = data[item]
        } else {
          result[parent|| 'root'] = data[item]
        }
      })
      return result
    }

    console.log(toObj(objData))
</script>
</html>