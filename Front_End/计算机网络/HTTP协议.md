# HTTP的特性

- HTTP协议是构建于TCP/IP协议之上，是一个应用层协议，默认端口是80

- HTTP是无连接状态的

# HTTP报文

## 请求报文

![](https://mdn.mozillademos.org/files/13687/HTTP_Request.png)

一个请求由下以下元素组成：

- Method：请求方法，例如`GET`、`POST`等

- Path：获取资源的路径

- HTTP协议版本号

- 为服务端表达其他信息的可选头部headers

- 对于一些像POST这样的方法，报文的body就包含了发送的资源，这与响应报文的body类似

## 响应报文

![](https://mdn.mozillademos.org/files/13691/HTTP_Response.png)

响应报头包含以下元素：

- HTTP协议版本号

- 一个状态码，来告知对应请求执行成功或失败，以及失败的原因

- HTTP headers，与语法头部类似

- 可选项，比起请求报文，响应报文中多得包含获取资源的body

## HTTP能控制什么

- 缓存：

文档如何缓存能通过HTTP来控制。服务端能告诉代理和客户端哪些文档需要被缓存，缓存多久，而客户端也能够命令中间的缓存代理来忽略存储的文档。

- 开放同源限制

为了防止网络窥听和其它隐私泄漏，浏览器强制对Web网站做了分割限制。只有来自于相同来源的网页才能够获取网站的全部信息。这样的限制有时反而成了负担，HTTP可以通过修改头部来开放这样的限制，因此Web文档可以是由不同域下的信息拼接成的（某些情况下，这样做还有安全因素考虑）。

- 认证

一些页面能够被保护起来，仅让特定的用户进行访问。基本的认证功能可以直接通过HTTP提供，使用Authenticate相似的头部即可，或用HTTP Cookies来设置指定的会话。

- 代理和隧道

通常情况下，服务器和/或客户端是处于内网的，对外网隐藏真实 IP 地址。因此 HTTP 请求就要通过代理越过这个网络屏障。但并非所有的代理都是 HTTP 代理。例如，SOCKS协议的代理就运作在更底层，一些像 FTP 这样的协议也能够被它们处理。

- 会话

使用HTTP Cookies允许你用一个服务端的状态发起请求，这就创建了会话。虽然基本的HTTP是无状态协议。这很有用，不仅是因为这能应用到像购物车这样的电商业务上，更是因为这使得任何网站都能轻松为用户定制展示内容了。


