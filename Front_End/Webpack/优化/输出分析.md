对输出进行分析，我们可以更好得对症下药

在启动Webpack时支持如下两个参数

- --profile： 记录构建过程中的耗时信息

- --json：以JSON的格式输出构建结果 ，最后只输出一个.json文件输出，这个文件中包括所有构建相关的信息

在启动Webpack时带上以上两个参数，启动命令如下：

`webpack --profile --json > stats.json`

我们会发现项目中多出了一个`stats.json`文件，这个`stats.json`文件是为后面介绍的可视化分析工具使用的

`webpack --profile --json`会输出字符串形式的JSON，`> stats.json`是UNIX/Linux系统上的管道命令，其含义是将`webpack --profile --json`输出的内容通过管道输出到`stats.json`文件中

## 官方的可视化分析工具

Webpack官方提供了一个可视化分析工具[Webpack Analyse(http://webpack.github.io/analyse/)] (http://webpack.github.io/analyse/)，它是一个在线的Web应用

根据提示将之前生成的`stats.json`上传到网站中，网站就会自动输出一些信息

该主页被分为如下6大板块。

- Modules：展示的所有模块，每个模块对应一个文件，并且包含所有模块之间的依赖关系图、模块路径、模块ID、模块所属的Chunk、模块的大小

- Chunks：性需求 所有代码块，在一个代码块中包含多个模块，并且包含代码块的ID、名称、大小、每个代码块包含的模块数量 ，以及代码之间的依赖关系图

- Assets：展示所有输出的文件资源，包括.js、.css、图片等，并且包含文件的名称、大小以及该文件来自哪个代码块

- Warnings：展示构建过程中出现的所有警告信息

- Errors：展示构建过程中出现 的所有错误信息

- Hints：展示处理每个模块所耗费的时间

## webpack-bundle-analyzer

[webpack-bundle-analyzer(https://www.npmjs.com/package/webpack-bundle-analyzer)](https://www.npmjs.com/package/webpack-bundle-analyzer)

接入webpack-bundle-analyzer的方法很简单

- 安装webpack-bundle-analyzer到全局，执行命令`npm i -g webpack-bundle-analyzer`

- 按照上面提到的方法生成stats.json

- 在项目根目录执行`webpack-bundle-analyzer`后，浏览器会打开对应的网页并展现以上效果

从网页中我们可以以下信息：

- 打包出的文件中都包含了什么

- 每个文件的尺寸在总体中的占比，我们一眼看出哪些文件的尺寸大小

- 模块之间的包含关系

- 每个文件的Gzip后的大小
