## Object.prototype.toString.call()

每一继承Object对象都有`toString`方法，会返回`[Object type]`，其中`type`为对象的类型。但当除了Object类型的对象外，其他类型直接使用`toString`方法时，会直接返回内容的字符串，所以我们需要使用`call`或者`apply`方法来改变`toString`方法的执行上下文。

```
const an = ['Hello','An'];
an.toString(); // "Hello,An"
Object.prototype.toString.call(an); // "[object Array]"
```

这种方法对于所有基本的数据类型都能进行判断，即使是 null 和 undefined 

```
Object.prototype.toString.call('An') // "[object String]"
Object.prototype.toString.call(1) // "[object Number]"
Object.prototype.toString.call(Symbol(1)) // "[object Symbol]"
Object.prototype.toString.call(null) // "[object Null]"
Object.prototype.toString.call(undefined) // "[object Undefined]"
Object.prototype.toString.call(function(){}) // "[object Function]"
Object.prototype.toString.call({name: 'An'}) // "[object Object]"
```

## instanceof

`instanceof`运算符用来测试构造函数的`prototype`属性是否出现在对象的原型链中的任何位置

```
function Car(make, model, year) {
  this.make = make;
  this.model = model;
  this.year = year;
}
var auto = new Car('Honda', 'Accord', 1998);

console.log(auto instanceof Car);
// expected output: true

console.log(auto instanceof Object);
// expected output: true

```

使用`instanceof`判断一个对象是否为数组，`instanceof`会判断对象的原型链上是否有对应的`Array`的原型，找到返回`true`，否则返回`false`

## Array.isArray()

功能：用来判断对象是否为数组

### instanceof 与 isArray

当检测`Array`实例时，`Array.isArray`优于`instanceof`，因为`Array.isArray`可以检测出`iframes`

```
var iframe = document.createElement('iframe');
document.body.appendChild(iframe);
xArray = window.frames[window.frames.length-1].Array;
var arr = new xArray(1,2,3); // [1,2,3]

// Correctly checking for Array
Array.isArray(arr);  // true
Object.prototype.toString.call(arr); // true
// Considered harmful, because doesn't work though iframes
arr instanceof Array; // false
```

### Array.isArray() 与 Object.prototype.toString.call()

`Array.isArray()`是ES5新增的方法，当不存在`Array.isArray()`，可以用`Object.protype.toString.call()实现`

```
if (!Array.isArray) {
  Array.isArray = function(arg) {
    return Object.prototype.toString.call(arg) === '[object Array]';
  };
}
```
