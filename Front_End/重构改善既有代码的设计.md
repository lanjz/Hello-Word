> [æˆ‘æ˜¯å¦‚ä½•å°†ä¸šåŠ¡ä»£ç å†™ä¼˜é›…çš„](https://juejin.im/post/5cc7d540e51d456e537ef39e)

# é‡æ„æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡

é‡æ„ï¼ˆrefactoringï¼‰ï¼šå¯¹è½¯ä»¶å†…éƒ¨ç»“æ„çš„ä¸€ç§è°ƒæ•´ï¼Œç›®çš„æ˜¯åœ¨ä¸æ”¹å˜ä»£ç å¤–åœ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œå¯¹ä»£ç åšå‡ºä¿®æ”¹ï¼Œä»¥æ”¹è¿›ç¨‹åºçš„å†…éƒ¨ç»“æ„ï¼Œ æé«˜å…¶å¯ç†è§£æ€§ï¼Œé™ä½å…¶ä¿®æ”¹æˆæœ¬

æ‰€ä»¥é‡æ„æ˜¯å¯å¤§å¯å°çš„ï¼Œä¸æ˜¯åªç»™é¡¹ç›®å¤§ä¿®å¤§è¡¥ï¼ˆæ›´æ¢è¯­è¨€ã€æ›´æ¢æ¡†æ¶ç­‰ï¼‰æ‰å«é‡æ„ï¼Œæ—¥å¸¸ä¿®å¤bugã€ç¼ºé™·ä¹Ÿæ˜¯å¯¹ä»£ç è¿›è¡Œäº†é‡æ„

# ä¸ºä½•é‡æ„&é‡æ„å¥½å¤„

ç¨‹åºéš¾ç»´æŠ¤çš„å‡ ä¸ªç‰¹å¾

- éš¾ä»¥é˜…è¯»çš„ç¨‹åºï¼Œéš¾ä»¥ä¿®æ”¹

- é€»è¾‘é‡å¤çš„ç¨‹åºï¼Œéš¾ä»¥ç»´æŠ¤

- æ·»åŠ æ–°è¡Œä¸ºæ—¶éœ€è¦ä¿®æ”¹å·²æœ‰ä»£ç çš„ç¨‹åºï¼Œéš¾ä»¥ä¿®æ”¹

- å¸¦å¤æ‚æ¡ä»¶é€»è¾‘çš„ç¨‹åºï¼Œéš¾ä»¥ä¿®æ”¹

## æ”¹è¿›è½¯ä»¶è®¾è®¡

ä»£ç ç»“æ„çš„æµå¤±æ˜¯ç´¯ç§¯æ€§çš„ï¼Œç¨‹åºçš„è®¾è®¡åœ¨ä¸æ–­çš„è¿­ä»£ï¼Œæ›´æ–°ï¼Œå½“äººä»¬åªä¸ºçŸ­æœŸç›®çš„ï¼Œæˆ–æ˜¯åœ¨å®Œå…¨ç†è§£æ•´ä½“è®¾è®¡ä¹‹å‰ï¼Œå°±è´¸ç„¶ä¿®æ”¹ä»£ç ï¼Œç¨‹åºå°†é€æ¸å¤±å»è‡ªå·±çš„ç»“æ„ï¼Œç¨‹åºå‘˜
è¶Šéš¾é€šè¿‡é˜…è¯»æºç è€Œç†è§£åŸæ¥çš„è®¾è®¡ã€‚é‡æ„å¾ˆåƒæ˜¯æ•´ç†ä»£ç ï¼Œä½ æ‰€åšçš„å°±æ˜¯è®©æ‰€æœ‰ä¸œè¥¿å›åˆ°åº”å¤„çš„ä½ç½®ä¸Šã€‚

å®ŒæˆåŒæ ·ä¸€æ ·äº‹æƒ…ï¼Œè®¾è®¡ä¸è‰¯çš„ç¨‹åºå¾€å¾€éœ€è¦æ›´å¤šä»£ç ï¼Œè¿™å¸¸å¸¸æ˜¯å› ä¸ºä»£ç åœ¨ä¸åŒçš„åœ°æ–¹ä½¿ç”¨å®Œå…¨ç›¸åŒçš„è¯­å¥åšåŒæ ·çš„äº‹ã€‚å› æ­¤æ”¹è¿›è®¾è®¡çš„ä¸€ä¸ªé‡è¦æ–¹å‘å°±æ˜¯æ¶ˆé™¤é‡å¤ä»£ç ã€‚
è¿™ä¸ªåŠ¨ä½œçš„é‡è¦æ€§åœ¨äºæ–¹ä¾¿æœªæ¥çš„ä¿®æ”¹ã€‚

é‡æ„æ‰‹æ³•ï¼šç”¨ç»å¯¹å®‰å…¨çš„æ‰‹æ³•ä»**ç„¦æ²¹å‘**ä¸­æ•´ç†å‡ºå¯æµ‹è¯•çš„æ¥å£ï¼Œç»™å®ƒæ·»åŠ æµ‹è¯•ï¼Œä»¥æ­¤ä½œä¸ºç»§ç»­é‡æ„çš„ç«‹è¶³ç‚¹

## ä½¿è½¯ä»¶æ›´å®¹æ˜“ç†è§£

æˆ‘ä»¬åœ¨åŠªåŠ›å®Œæˆç¨‹åºçš„åŠŸèƒ½çš„è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€æ³¨æ„åŠ›å…¨åœ¨å®ŒæˆåŠŸèƒ½ä¸Šï¼Œä¸ä¼šä¸ºæœªæ¥çš„æ¥ç›˜ä¾ åšè€ƒè™‘ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ä¸è€ƒè™‘ä»£ç çš„æ˜“ç†è§£æ€§ã€‚
ä¸ºäº†æ”¹å–„ä»£ç ï¼Œè®©ä»£ç æ›´å¥½åœ°è¡¨è¾¾è‡ªå·±çš„ç”¨é€”ï¼Œé‚£å°±éœ€è¦èŠ±ä¸€ç‚¹ç‚¹æ—¶é—´è¿›è¡Œé‡æ„

## å¸®åŠ©æ‰¾åˆ°bug

å¯¹ä»£ç çš„ç†è§£ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¿«å®šä½bug

## æé«˜ç¼–ç¨‹é€Ÿåº¦

å¦‚æœæœ‰æ›´ç®€å•æ›´æ˜“ç†è§£çš„ä»£ç ï¼Œå¼€å‘è€…å°±èƒ½å°†æ›´å¤šç²¾åŠ›é›†ä¸­åœ¨åŠŸèƒ½ä¸Šï¼Œä¸éœ€è¦èŠ±é¢å¤–çš„æ—¶é—´å»ç†è§£ç³»ç»Ÿï¼Œè°ƒè¯•é—®é¢˜ï¼Œå¯»æ‰¾é‡å¤ä»£ç 

**æ€»ä½“è€Œè¨€å¸Œæœ›é‡æ„è¾¾åˆ°ç›®çš„ï¼š**

- å®¹æ˜“é˜…è¯»

- æ‰€æœ‰é€»è¾‘éƒ½åªåœ¨å”¯ä¸€åœ°ç‚¹æŒ‡å®š

- æ–°çš„æ”¹åŠ¨ä¸ä¼šå±åŠç°æœ‰è¡Œä¸º

- å°½å¯èƒ½ç®€å•è¡¨è¾¾æ¡ä»¶é€»è¾‘


# ä½•æ—¶éœ€è¦é‡æ„

ä»€ä¹ˆæ—¶å€™è§‰å¾—ä»£ç æ˜¯éœ€è¦é‡æ„ä¼˜åŒ–çš„

- æ·»åŠ åŠŸèƒ½æ—¶åŸæœ‰çš„ä»£ç è®¾è®¡æ— æ³•å¸®åŠ©æˆ‘ä»¬è½»æ¾æ·»åŠ æˆ‘ä»¬éœ€è¦çš„ç‰¹æ€§æ—¶ï¼Œé‡æ„åŸæœ‰è®¾è®¡ï¼Œåæ–°ç‰¹æ€§çš„æ·»åŠ æ›´å¿«é€Ÿï¼Œæ›´æµç•…

- ä¿®è¡¥é”™è¯¯æ—¶å½“å‘ç”Ÿbugæ—¶ï¼Œå›æƒ³ä»£ç æ²¡æœ‰æ¸…æ™°åˆ°è®©ä½ é©¬ä¸Šå®šä½bugä½ç½®ï¼Œé‚£ä¹ˆè¯´æ˜ä»£ç éœ€è¦é‡æ„

é‡æ„çš„æ—¶å€™è¿˜å¾—èƒ½å¤Ÿè¯†åˆ«å“ªäº›ä»£ç æ˜¯æœ‰é—®é¢˜

## è¯†åˆ«ä»£ç åå‘³é“

- é‡åˆ°æœ‰æ­§ä¹‰çš„å˜é‡ã€‚å˜é‡ååŒ…å«äº†æˆ‘ä»¬å¯¹å½“å‰ä»£ç çš„ç†è§£ï¼Œå¥½çš„å˜é‡æˆ–å‡½æ•°ååº”è¯¥èƒ½æ¸…æ¥šè¡¨è¾¾è‡ªå·±çš„åŠŸèƒ½å’Œç›®çš„ï¼Œå˜é‡åç§°æ˜¯ä»£ç æ¸…æ™°çš„å…³é”®ã€‚

  > ä¸ç”¨å¤ªè¿‡æ‹…å¿ƒä¿®æ”¹å˜é‡ï¼Œä¼šå¼•å‘å…¶å®ƒçš„é”™è¯¯ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„ç¼–è¾‘å™¨éƒ½å¾ˆå¼ºå¤§ï¼Œå¯ä»¥é€šè¿‡æŸ¥æ‰¾æˆ–è€…å…¨å±€æœç´¢ç­‰åŠŸèƒ½å˜é‡è¢«ä½¿ç”¨çš„åœ°æ–¹

- é‡å¤ä»£ç 

  ä¸€ä¸ªä»¥ä¸Šçš„åœ°ç‚¹çœ‹åˆ°ç›¸åŒçš„ç¨‹åºç»“æ„

  è§£å†³ç­–ç•¥ï¼šè®¾æ³•å°†å®ƒä»¬åˆè€Œä¸ºä¸€

- è¿‡é•¿å‡½æ•°æˆ–è¿‡å¤§çš„ç±»
  
  æ¯•ç«Ÿä»£ç è¶Šé•¿è¶Šéš¾ä»¥ç†è§£ï¼Œè‡³äºå¦‚ä½•ç¡®å®šå“ªæ®µä»£ç è¯¥è¿›è¡Œåˆ†è§£ã€‚ä¹¦ä¸­åˆ—äº†å‡ ä¸ªæŠ€å·§ï¼š1. å¯»æ‰¾æ³¨é‡Šã€‚2. æ¡ä»¶è¡¨è¾¾ç¤ºå’Œå¾ªç¯

  è§£å†³ç­–ç•¥ï¼šæ‹†è§£å‡½æ•°

- å‘æ•£å¼å˜åŒ–

  ä¸€ä¸ªå‡½æ•°ç»å¸¸å› ä¸ºä¸åŒçš„åŸå› åœ¨ä¸åŒçš„æ–¹å‘ä¸Šå‘ç”Ÿå˜åŒ–ï¼Œè¿™é‡Œæˆ‘çš„ç†è§£æ˜¯æœ‰å¯èƒ½è¿™ä¸ªå‡½æ•°åšçš„äº‹æƒ…å¤ªå¤šï¼ŒèŒè´£ä¸æ˜ç¡®ï¼ˆå¢™å¤´è‰ï¼‰

  è§£å†³ç­–ç•¥ï¼šæ‹†è§£å‡½æ•°ï¼Œæç‚¼å†…å®¹

- éœ°å¼¹å¼ä¿®æ”¹

  æ¯é‡åˆ°æŸç§å˜åŒ–ï¼Œä½ éƒ½å¿…é¡»åœ¨è®¸å¤šä¸åŒçš„æ–¹æ³•/ç±»å†…åšå‡ºè®¸å¤šå°ä¿®æ”¹ï¼Œ

  è§£å†³ç­–ç•¥ï¼šåº”è¯¥æŠŠè¿™äº›æœ‰ç›¸å…³çš„ä»£ç å°½é‡æ”¾åœ¨ä¸€èµ·

- switchæƒŠæ‚šç°èº«

  `switch`çš„é—®é¢˜åœ¨äºé‡å¤ã€‚ä½ å¸¸ä¼šå‘ç°åŒæ ·çš„`switch`è¯­å¥æ•£å¸ƒäºä¸åŒåœ°ç‚¹ã€‚å¦‚æœè¦ä¸ºå®ƒæ·»åŠ ä¸€ä¸ªæ–°çš„caseè¯­å¥ï¼Œå°±å¿…é¡»æ‰¾åˆ°æ‰€æœ‰`switch`è¯­å¥å¹¶ä¿®æ”¹å®ƒä»¬

- å¤¸å¤¸å…¶è°ˆæœªæ¥æ€§

  ä¼å›¾ä»¥å„å¼å„æ ·çš„é’©å­å’Œç‰¹æ®Šæƒ…å†µæ¥å¤„ç†ä¸€äº›éå¿…è¦çš„äº‹æƒ…ï¼Œè¿™ä¹ˆå¾€å¾€é€ æˆç³»ç»Ÿæ›´éš¾ç†è§£å’Œç»´æŠ¤

  è§£å†³ç­–ç•¥ï¼šè¯¥æ¬å°±æ¬å§

- ä»¤äººè¿·æƒ‘çš„æš‚æ—¶å­—æ®µ

  æŸä¸ªå‡½æ•°å†…éƒ¨éœ€è¦å› ä¸ºä¸€ç‰¹æ®Šæƒ…å†µè€ŒåŠ ä¸€äº›é¢å¤–å¤„ç†çš„ä»£ç 

  è§£å†³ç­–ç•¥ï¼šå°†è¿™äº›å­¤å„¿æ”¾è¿›å•ç‹¬çš„å‡½æ•°ä¸­


- è¿‡å¤šçš„æ³¨é‡Š

  ä¸æ˜¯è¯´ä¸è¯¥å†™æ³¨é‡Šï¼Œä½†å½“çœ‹åˆ°æŸä¸ªå‡½æ•°éœ€è¦å¾ˆå¤šæ³¨é‡Šæ¥è¯´æ˜çš„æ—¶å€™ï¼Œå¾€å¾€è¯´æ˜è¿™çš„åŠŸèƒ½æˆ–æµç¨‹æ˜¯å¤æ‚çš„ï¼Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯è¿™ä¹ˆå¤æ‚çš„éƒ¨åˆ†è€Œä¸æ˜¯æ³¨é‡Šæœ¬èº«

- å¹³è¡Œç»§æ‰¿ä½“ç³»
  
  ä¸ºæŸä¸ªç±»æ·»åŠ ä¸€ä¸ªå­ç±»ï¼Œå¿…é¡»ä¹Ÿä¸ºå¦ä¸€ä¸ªç±»ç›¸åº”å¢åŠ ä¸€ä¸ªå­ç±»

  è§£å†³ç­–ç•¥ï¼šè®©ä¸€ä¸ªç»§æ‰¿ä½“ç³»çš„å®ä¾‹å¼•ç”¨å¦ä¸€ä¸ªç»§æ‰¿ä½“ç³»çš„å®ä¾‹

- å†—èµ˜ç±»
  
  å¦‚æœä¸€ä¸ªç±»çš„æ‰€å¾—ä¸å€¼å…¶èº«ä»·ï¼Œå®ƒå°±åº”è¯¥æ¶ˆå¤±ã€‚

- é•¿å‚æ•°åˆ—ï¼Œä¾æ‹æƒ…ç»“ï¼Œæ•°æ®æ³¥å›¢ï¼ŒåŸºæœ¬ç±»å‹åæ‰§ï¼Œè¿‡åº¦è€¦åˆçš„æ¶ˆæ¯é“¾,ä¸å®Œç¾çš„åº“ç±»ï¼Œçº¯ç¨šçš„æ•°æ®ç±»ï¼Œè¢«æ‹’ç»çš„é—èµ 

# å¦‚ä½•é‡æ„

é‡æ„çš„æ˜¯æœ‰é£é™©çš„ï¼Œåœ¨æŒ–æ˜ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå‘ç°ä¸€äº›å€¼å¾—ä¿®æ”¹çš„åœ°æ–¹ï¼Œäºæ˜¯ä½ æŒ–å¾—æ›´æ·±ã€‚æŒ–å¾—è¶Šæ·±ï¼Œæ‰¾åˆ°çš„é‡æ„æœºä¼šæœºä¼šå°±è¶Šå¤šã€‚ã€‚ã€‚æœ€åå°±ç»™è‡ªå·±æŒ–äº†ä¸€ä¸ªå¤§å‘

æ‰€ä»¥å¯¹äºç¨å¾®å¤§ç‚¹çš„é‡æ„ï¼ŒåŠ¨æ‰‹ä¹‹å‰å¾—å…ˆåšä¸€äº›å‡†å¤‡å·¥ä½œ

- è¦çŸ¥é“å®ƒåŸæ¥çš„åŠŸèƒ½

- ç¡®å®šä¸å®ƒæœ‰è€¦åˆçš„åœ°æ–¹

- ä¸ºå³å°†ä¿®æ”¹çš„ä»£ç å»ºç«‹ä¸€ç»„å¯é çš„æµ‹è¯•ç¯å¢ƒï¼Œå¥½çš„æµ‹è¯•æ˜¯é‡æ„çš„æ ¹æœ¬ï¼Œå®ƒèƒ½å‘Šè¯‰æˆ‘ä»¬æ˜¯å¦å¼•å…¥bug

æ¥ä¸‹æ¥äº†è§£ä¸€ä¸‹é‡æ„æ‰‹æ®µ

## æ¸è¿›å¼é‡æ„

> è®¾è®¡ä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œæœ‰æ—¶å€™å†™ç€å†™ç€æ‰å‘ç°æŸäº›ä»£ç å¯ä»¥æŠ½ç¦»å‡ºæ¥å•ç‹¬ä½¿ç”¨

æ¸è¿›å¼é‡æ„æ˜¯ä¸æ–­åœ°å¯¹æ—¢æœ‰ä»£ç è¿›è¡ŒæŠ½è±¡ã€åˆ†ç¦»å’Œç»„åˆ

é¦–å…ˆæˆ‘ä»¬åœ¨åŒä¸€ä¸ªæºæ–‡ä»¶ä¸­æ–°å¢åŠŸèƒ½ï¼Œå‘ç°éƒ¨åˆ†ä»£ç æ— å‰¯ä½œç”¨ä¸”å¯åˆ†ç¦»ï¼Œå› æ­¤åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œä»£ç åˆ†å‰²ï¼Œå½¢æˆè®¸å¤šåŠŸèƒ½å•ä¸€çš„æ¨¡å—ã€‚å¦‚æ­¤å¾€å¤åå‘ç°å•æ–‡ä»¶çš„ä½“ç§¯è¶Šæ¥è¶Šå¤§ï¼Œæ­¤æ—¶å°±å¯ä»¥å°†åŠŸèƒ½ç›¸å…³è”çš„æ¨¡å—æŠ½å‡ºæ¥æ”¾åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ç»Ÿä¸€ç®¡ç†ï¼Œå¦‚ helpersã€componentsã€constants ç­‰ç­‰ã€‚

æ‹†åˆ†å‡ºæ¥çš„ä»£ç éœ€è¦æ»¡è¶³å‡ ä¸ªæ¡ä»¶ï¼š

- ä»£ç åæœŸå¯å¤ç”¨

- ä»£ç æ— å‰¯ä½œç”¨

- ä»£ç é€»è¾‘å•ä¸€

## é«˜å†…èšä½è€¦åˆ

é«˜å†…èšä½è€¦åˆæ˜¯è½¯ä»¶è®¾è®¡é¢†åŸŸé‡Œäº˜å¤ä¸å˜çš„è¯é¢˜ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å‰ç«¯å¾ˆå®¹æ˜“èµ°è¿œçš„åœ°æ–¹ã€‚å› ä¸ºå‰ç«¯ä¸šåŠ¡æ€»åœ¨ä¸æ–­çš„æ·»åŠ ï¼Œä»£ç åˆæ€»UIäº¤äº’è¿ç³»ï¼Œå¹³æ—¶ä¹Ÿå¾ˆä¹ æƒ¯æ€§å¾€ä¸€ä¸ªé¡µé¢ä¸æ–­æ·»åŠ ä¸šåŠ¡ä»£ç ï¼Œä¸çŸ¥ä¸è§‰å¯¼è‡´ä¸€ä¸ªé¡µé¢é‡Œå„ç§ä¸šåŠ¡åŠŸèƒ½è€¦åˆåœ¨äº†ä¸€èµ·

ä¸¾ä¸ªæ —å­ï¼Œå‡å¦‚æˆ‘ä»¬ä¸€ä¸ªé‚€è¯·é¡µé¢é‡Œé¢æ”¾ç€ä¸€ä¸ªäºŒç»´ç ï¼Œåˆ«äººå¯ä»¥æ‰«ç è·³åˆ°æ³¨å†Œé¡µé¢è¿›è¡Œæ³¨å†Œã€‚æ­¤æ—¶éœ€è¦æ·»åŠ ä¸€ä¸ªåŠŸèƒ½ï¼Œæ‰«ç åå…ˆå›åˆ°è¿™ä¸ªé‚€è¯·é¡µé¢ï¼Œæ­¤æ—¶çš„é‚€è¯·é¡µé¢æ˜¾ç¤ºçš„ä¸æ˜¯ä¸€ä¸ªäºŒç»´ç ï¼Œè€Œæ˜¯ä¸€ä¸ªèŠ±é‡Œèƒ¡ä¿çš„èƒŒæ™¯å’Œä¸€ä¸ªæŒ‰é’®ï¼Œé€šè¿‡ç‚¹å‡»æŒ‰é’®å†è·³åˆ°æ³¨å†Œé¡µ

æ­£å¸¸çš„æ·»åŠ æ€è·¯ï¼š

- è¿›å…¥é¡µé¢éœ€è¦æ ¹æ®æ¡ä»¶åˆ¤æ–­å½“å‰æ˜¯åˆ†äº«çš„é¡µé¢ï¼Œè¿˜æ˜¯åˆ†äº«åçš„é¡µé¢

- å°†åˆ†äº«çš„èƒŒæ™¯å›¾å’ŒæŒ‰é’®æ··å…¥åˆ°åŸæœ‰çš„DOMä¸­ï¼Œé€šè¿‡æ¡ä»¶æ¥æ˜¾ç¤ºå“ªä¸ªDOM

- æ·»åŠ ç‚¹å‡»æŒ‰é’®çš„è·³è½¬

è¿™ç§ç›´æ¥æ··å…¥æ–°åŠŸèƒ½ä»£ç çš„æ–¹å¼å¯¼è‡´æ–°åŠŸèƒ½ä¸æ—§çš„é¡µé¢ä¸¥é‡è€¦åˆï¼Œå¦‚æœä¹‹åç»§ç»­å¾€è¿™é¡µé¢è¿­ä»£ï¼Œè¶Šå¾€åè¶Šæä¸æ¸…è°æ˜¯è°äº†

æ¥ä¸‹æ¥çœ‹ä¸‹åˆç†çš„æ·»åŠ æ–¹å¼

- åˆ†äº«åé¡µé¢æ— è®ºæ˜¯ç•Œé¢äº¤äº’è¿˜æ˜¯ç‚¹å‡»äº‹ä»¶éƒ½ä¸æ—§çš„é¡µé¢æ²¡æœ‰ä»»ä½•å…³è”ï¼Œæ‰€ä»¥åˆ†äº«åçš„é¡µé¢å®Œå…¨å¯ä»¥ç‹¬ç«‹åˆ›å»ºæˆä¸€ä¸ªç»„ä»¶

- ç„¶ååœ¨æ—§é¡µé¢ä¸­å¼•å…¥è¿™ä¸ªç»„ä»¶ï¼Œå¹¶æ·»åŠ æ˜¾ç¤ºç»„ä»¶çš„æ¡ä»¶é€»è¾‘

- å¦‚æœè¦è¿›ä¸€æ­¥åšä¼˜åŒ–çš„è¯ï¼Œè¿˜å¯ä»¥çš„å°†æ—§çš„é¡µé¢ä¹ŸæŠ½ç¦»å‡ºæ¥ç‹¬ç«‹æˆä¸€ä¸ªç»„ä»¶

- å°†ä¸¤ä¸ªç»„ä»¶å¼•å…¥åˆ°ä¸€ä¸ªé¡µé¢ä¸­ï¼Œé€šè¿‡æ¡ä»¶åˆ¤æ–­æ˜¾ç¤ºå“ªä¸ªç»„ä»¶å³å¯

è¿™æ ·çš„å˜æ›´è®©è¿™ä¸ªé¡µé¢åŠŸèƒ½æ›´åŠ æ˜ç¡®ã€å¯æ§ã€‚å³ä½¿ä¹‹åç»§ç»­è¿­ä»£ä¹Ÿä¸ç”¨æ‹…å¿ƒå½±å“å¦ä¸€ä¸ªç»„ä»¶ã€‚æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªé¡µé¢åŠŸèƒ½æ˜¯é«˜å†…èšçš„ï¼Œä¸äº§å“ä»£ç æ˜¯ä½è€¦åˆçš„ã€‚è€Œä¸”è¿˜å¾—åˆ°äº†ä¸¤ä¸ªå¯ä»¥åˆ©ç”¨çš„ç»„ä»¶

## åˆç†å†—ä½™

è¿‡å¤šçš„ä¾èµ–ç»„ä»¶ï¼Œé¢‘ç¹çš„æŠ½è±¡å¯èƒ½å¯¼è‡´è®¾è®¡è¿‡åº¦ã€‚å…ˆçœ‹ä¸€ä¸ªä¾‹å­

æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œä¸€å¼€å§‹å¾ˆç®€å•ï¼Œéœ€è¦è®¾è®¡ä¸¤ç»„åˆ—è¡¨ï¼Œæ ¼å¼ä¸€æ ·ï¼š

![](https://user-gold-cdn.xitu.io/2019/4/30/16a6c9fb662ede1c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

æˆ‘ä»¬ä¼šæŠ½è±¡ä¸€ä¸ªç»„ä»¶æ¥æ˜¾ç¤ºå®ƒä»¬

```
const Item = ({ title, content }) => (
  <div>
    <h4>{title}</h4>
    <p>{content}</p>
  </div>
);
```

ç°åœ¨éœ€æ±‚è¦æ±‚åœ¨ç¬¬ä¸€ä¸ªåˆ—è¡¨çš„æ ‡é¢˜ä¸Šå¢åŠ çƒ­æ–‡æ ‡è®°ï¼š

![](https://user-gold-cdn.xitu.io/2019/4/30/16a6c98ee890795f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

æˆ‘ä»¬æ‰©å±•ä¸€ä¸‹è¿™ä¸ªç»„ä»¶

```
const Item = ({ title, content }, index) => (
  <div>
    <h4>{title}{index === 0 && <span>hot</span>}</h4>
    <p>{content}</p>
  </div>
);

```

éœ€æ±‚åˆå˜äº†ï¼Œè¦æ±‚ï¼šåœ¨ç¬¬ä¸€ä¸ªå±•ä½å»æ‰å†…å®¹ï¼Œå¹¶ä¸”åœ¨ä¸‹æ–¹åŠ ä¸ªæŒ‰é’®ï¼›ç¬¬äºŒä¸ªå±•ä½çš„æ ‡é¢˜å³è¾¹å¢åŠ ä¸€ä¸ªè¶…é“¾æ¥ä»¥åŠå¢åŠ ä¸€ä¸ªå‰¯æ ‡é¢˜ï¼š

![](https://user-gold-cdn.xitu.io/2019/4/30/16a6c98ee9b5463c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

ç»§ç»­æ‰©å±•æˆ‘ä»¬çš„ç»„ä»¶

```
const Item = ({ title, content }, index) => (
  <div>
    <h4>
      {title}
      {index === 0 && <span>hot</span>}
      {index === 1 && <a href="xxx">å»çœ‹çœ‹</a>}
    </h4>
    {index === 1 && <h5>å‰¯æ ‡é¢˜</h5>}
    <p>
      {index !== 0 && content}
      {index === 0 && <button>é¢†ç¦åˆ©<button>}
    </p>
  </div>
);

```
å¯ä»¥çœ‹åˆ°ï¼Œä¹‹å‰æŠ½è±¡çš„å¥½å¥½çš„ï¼Œéšç€è¿­ä»£ï¼Œä»£ç å°±é¢ç›®å…¨éäº†ï¼Œç°åœ¨è¿™ä¸ªç»„ä»¶åŒ…å«äº†å¾ˆå¤šæ¡ä»¶åˆ¤æ–­ï¼Œé€»è¾‘å˜å¾—å¤æ‚ï¼Œå¯è¯»æ€§ä¹Ÿå˜å·®äº†

æ¥ä¸‹æ¥ç”¨ä¸¤ä¸ª`if`é‡å†™ä¸€ä¸‹

```
// ç¬¬ä¸€ä¸ªåˆ—è¡¨
if (index === 0) {
  return (
    <div>
      <h4>æ ‡é¢˜ä¸€<span>hot</span></h4>
      <p><button>é¢†ç¦åˆ©<button></p>
    </div>
  );
}
// ç¬¬äºŒä¸ªåˆ—è¡¨
if (index === 1) {
  return (
    <div>
      <h4>æ ‡é¢˜äºŒ<a href="xxx">å»çœ‹çœ‹</a></h4>
      <h5>å‰¯æ ‡é¢˜</h5>
      <p>å†…å®¹</p>
    </div>
  );
}
```

è¿™é‡Œç±»ä¼¼æ”¹æˆä½¿ç”¨ä¸¤ä¸ªç»„ä»¶å»åˆ†åˆ«æ˜¾ç¤ºä¸¤ç§åˆ—è¡¨çš„å†…å®¹ï¼Œä»£ç ç¨å¾®å†—ä½™äº†ï¼Œä½†æ˜¯ä¸šåŠ¡é€»è¾‘å´æ¸…æ™°äº†

## é‡æ„æ—¶æœº

ä»»ä½•ä¸€ä¸ªå‚»ç“œéƒ½èƒ½å†™å‡ºè®¡ç®—æœºå¯ä»¥ç†è§£çš„ä»£ç ã€‚å”¯æœ‰å†™å‡ºäººç±»å®¹æ˜“ç†è§£çš„ä»£ç ï¼Œæ‰æ˜¯ä¼˜ç§€çš„ç¨‹åºå‘˜

# é‡æ„æ‰‹æ®µ

## é‡æ–°ç»„ç»‡å‡½æ•°

- æç‚¼å‡½æ•°

  åŠ¨æœºï¼šè¿‡é•¿çš„å‡½æ•°éš¾è®©äººéš¾ä»¥ç†è§£å’Œç»´æŠ¤

  å¯¹äºè¿‡é•¿å‡½æ•°å¯ä»¥é€šè¿‡æç‚¼çš„æ‰‹æ®µï¼Œå°†éƒ¨åˆ†ä»£ç ç‰‡æ®µæ”¾è¿›ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°ä¸­ï¼Œå¹¶è®©å‡½æ•°åç§°è§£é‡Šè¯¥å‡½æ•°çš„ç”¨é€”

  å¥½å¤„ï¼š
    -  å¢åŠ å‡½æ•°å¯è¯»æ€§

    - å‡½æ•°å¤ç”¨çš„å¯èƒ½æ€§æ›´å¤§

- åˆå¹¶å†…è”å‡½æ•°

  è¿™ä¸ªè·Ÿæç‚¼å‡½æ•°ç›¸åï¼Œæ˜¯æŠŠå†…éƒ¨è°ƒç”¨çš„å‡½æ•°ä»£ç ç›´æ¥å†™å…¥ä¸»å‡½æ•°ä¸­

  åŠ¨æœºï¼šæç‚¼å‡ºæ¥çš„å‡½æ•°å¯èƒ½å¸¦æ¥å¸®åŠ©ï¼Œä½†éå¿…è¦çš„é—´æ¥æ€§æœ‰æ—¶ä¼šæ˜¾å¾—å¤šæ­¤ä¸€ä¸¾ã€‚å½“å†…éƒ¨ä»£ç å’Œå‡½æ•°åç§°åŒæ ·æ¸…æ™°æ˜“æ‡‚ä¸”å†…éƒ¨å‡½æ•°æ²¡æœ‰è¢«å¤ç”¨æ—¶ï¼Œåˆ™å¯å°†ä»£ç åˆå¹¶è‡³è°ƒç”¨å‡½æ•°ä¸­

  ```
function getRating() {
    return  (moreThanFiveLateDeliveries()) ? 2 : 1
}
function moreThanFiveLateDeliveries() {
    return _numberOfLateDeleveries > 5
}
  ```

  => 

  ```
function getRating() {
    return  (_numberOfLateDeleveries > 5()) ? 2 : 1
}
   ```

> æ—¥å¸¸å¼€å‘ä¸­ç»„ç»‡å‡½æ•°éœ€è¦æŠŠæ¡å¾—æ°åˆ°å¥½å¤„ï¼Œä¸å¯è¿‡æ¸¡æç‚¼å‡½æ•°ï¼Œä¹Ÿä¸å¯å°†æ‰€æœ‰ä»£ç é›†ä¸­åœ¨ä¸€ä¸ªå‡½æ•°ä¸­

- ç”¨å˜é‡ä»£æ›¿å¤æ‚å‡½æ•°

  åŠ¨æœºï¼šè¡¨è¾¾å¼æœ‰å¯èƒ½éå¸¸å¤æ‚è€Œä¸”éš¾ä»¥é˜…è¯»ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä¸´æ—¶å˜é‡å¯ä»¥å¸®åŠ©ä½ å°†è¡¨è¾¾å¼åˆ†è§£ä¸ºæ¯”è¾ƒå®¹æ˜“ç®¡ç†çš„å½¢å¼

  ```
  if((platform.toUpperCase().indexOf('mac')>-1) &&
  (browser.toUpperCase().indexOf("IE") > -1) &&
  resize >0) {
    // do somethine
  }
  ```

  =>

  ```
const isMacOs = platform.toUpperCase().indexOf('mac')>-1
  const isIEBrowser = browser.toUpperCase().indexOf("IE") > -1
  const wasResized = resize >0

  if(isMacOs && isIEBrowser && wasResized) {
    // do something
  }
  ```